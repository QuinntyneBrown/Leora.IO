import { CanActivate, Component } from "../core/component-decorators";
import { {{ entityNamePascalCase }}ActionCreator } from "./{{ entityNameSnakeCase }}.actions";

@Component({
    route: "/{{ entityNameCamelCase }}/list",
    templateUrl: "wwwroot/{{ entityNameSnakeCase }}/{{ entityNameSnakeCase }}-list.component.html",
    selector: "{{ entityNameSnakeCase }}-list",
    providers: ["$location","{{ entityNameCamelCase }}ActionCreator"]
})
@CanActivate([
    "{{ entityNameCamelCase }}ActionCreator", "invokeAsync",
    ({{ entityNameCamelCase }}ActionCreator: {{ entityNamePascalCase }}ActionCreator, invokeAsync) => invokeAsync({{ entityNameCamelCase }}ActionCreator.all)
])
export class {{ entityNamePascalCase }}ListComponent {
    constructor(private $location: angular.ILocationService,private {{ entityNameCamelCase }}ActionCreator: {{ entityNamePascalCase }}ActionCreator) { }
    storeOnChange = state =>  this.entities = state.{{ entityNameCamelCase }}s;   
    entities;
    remove = {{ entityNameCamelCase }} => this.{{ entityNameCamelCase }}ActionCreator.remove({ entity: {{ entityNameCamelCase }} });
    edit = {{ entityNameCamelCase }} => this.{{ entityNameCamelCase }}ActionCreator.edit({ entity: {{ entityNameCamelCase }} });    
}